<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Allomanège: Référence de la classe App\Http\Controllers\CarouselController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Allomanège
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>App</b></li><li class="navelem"><b>Http</b></li><li class="navelem"><b>Controllers</b></li><li class="navelem"><a class="el" href="class_app_1_1_http_1_1_controllers_1_1_carousel_controller.html">CarouselController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="class_app_1_1_http_1_1_controllers_1_1_carousel_controller-members.html">Liste de tous les membres</a>  </div>
  <div class="headertitle"><div class="title">Référence de la classe App\Http\Controllers\CarouselController</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Graphe d'héritage de App\Http\Controllers\CarouselController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_app_1_1_http_1_1_controllers_1_1_carousel_controller.png" usemap="#App_5CHttp_5CControllers_5CCarouselController_map" alt=""/>
  <map id="App_5CHttp_5CControllers_5CCarouselController_map" name="App_5CHttp_5CControllers_5CCarouselController_map">
<area href="class_app_1_1_http_1_1_controllers_1_1_controller.html" alt="App\Http\Controllers\Controller" shape="rect" coords="0,0,238,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:a151591d67d892fa737c589eaebddcb7b" id="r_a151591d67d892fa737c589eaebddcb7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a151591d67d892fa737c589eaebddcb7b">homeFront</a> ()</td></tr>
<tr class="separator:a151591d67d892fa737c589eaebddcb7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdc7022abf630164f5168d78878c109" id="r_a0bdc7022abf630164f5168d78878c109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bdc7022abf630164f5168d78878c109">carouselsFront</a> ()</td></tr>
<tr class="separator:a0bdc7022abf630164f5168d78878c109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa174b9f6d6c9b2841678103fdaaad55e" id="r_aa174b9f6d6c9b2841678103fdaaad55e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa174b9f6d6c9b2841678103fdaaad55e">detailsFront</a> ($carouselId)</td></tr>
<tr class="separator:aa174b9f6d6c9b2841678103fdaaad55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0356361f45a13c747141945b7be6d89" id="r_aa0356361f45a13c747141945b7be6d89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0356361f45a13c747141945b7be6d89">home</a> ()</td></tr>
<tr class="separator:aa0356361f45a13c747141945b7be6d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3b4d14912f743c9a35b558886347d5" id="r_a7e3b4d14912f743c9a35b558886347d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e3b4d14912f743c9a35b558886347d5">viewCarousel</a> ()</td></tr>
<tr class="separator:a7e3b4d14912f743c9a35b558886347d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5476ddf296f3fff8b8371c98e0375b93" id="r_a5476ddf296f3fff8b8371c98e0375b93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5476ddf296f3fff8b8371c98e0375b93">viewCreateCarousel</a> ()</td></tr>
<tr class="separator:a5476ddf296f3fff8b8371c98e0375b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52054ff40fb88f1d2316c89eaf7b3e7e" id="r_a52054ff40fb88f1d2316c89eaf7b3e7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52054ff40fb88f1d2316c89eaf7b3e7e">viewUpdateForm</a> ($id)</td></tr>
<tr class="separator:a52054ff40fb88f1d2316c89eaf7b3e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab1e02d60c1031962af2e948b550226" id="r_adab1e02d60c1031962af2e948b550226"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adab1e02d60c1031962af2e948b550226">createCarousel</a> (<a class="el" href="class_app_1_1_http_1_1_requests_1_1_carousel_request.html">CarouselRequest</a> $request)</td></tr>
<tr class="separator:adab1e02d60c1031962af2e948b550226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6b8baef5995bec0754c949f8388c4b" id="r_a7f6b8baef5995bec0754c949f8388c4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f6b8baef5995bec0754c949f8388c4b">updateCarousel</a> (<a class="el" href="class_app_1_1_http_1_1_requests_1_1_carousel_update_request.html">CarouselUpdateRequest</a> $request, $id)</td></tr>
<tr class="separator:a7f6b8baef5995bec0754c949f8388c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7518c6b3dde0953d9bc3f0fe23ace47b" id="r_a7518c6b3dde0953d9bc3f0fe23ace47b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7518c6b3dde0953d9bc3f0fe23ace47b">destroyCarousel</a> ($id)</td></tr>
<tr class="separator:a7518c6b3dde0953d9bc3f0fe23ace47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Ce contrôleur gère les actions de carousel. </p>
</div><h2 class="groupheader">Documentation des fonctions membres</h2>
<a id="a0bdc7022abf630164f5168d78878c109" name="a0bdc7022abf630164f5168d78878c109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bdc7022abf630164f5168d78878c109">&#9670;&#160;</a></span>carouselsFront()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::carouselsFront </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche la liste des carrousels approuvés avec leurs catégories et les réservations associées.</p>
<p>Cette méthode récupère les carrousels approuvés avec leurs catégories associées, paginés par 25 carrousels par page. Pour chaque carrousel, elle récupère les réservations associées à l'aide de la relation avec le modèle Calendar.</p>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue 'carousels' avec les carrousels paginés et les catégories. </dd></dl>

</div>
</div>
<a id="adab1e02d60c1031962af2e948b550226" name="adab1e02d60c1031962af2e948b550226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab1e02d60c1031962af2e948b550226">&#9670;&#160;</a></span>createCarousel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::createCarousel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_app_1_1_http_1_1_requests_1_1_carousel_request.html">CarouselRequest</a></td>          <td class="paramname"><span class="paramname"><em>$request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Crée un nouveau carousel à partir des données fournies dans la requête.</p>
<p>Cette méthode récupère les données du formulaire de création de carousel, valide et géocode l'adresse fournie, redimensionne et convertit les images téléchargées en format WebP, associe les images au carousel créé, et enregistre le carousel en base de données avec le statut par défaut "pending". Si l'utilisateur est un super administrateur, le statut est automatiquement défini sur "approved".</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\App\Http\Requests\CarouselRequest</td><td class="paramname">$request</td><td>Les données de la requête validées par CarouselRequest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\Http\RedirectResponse Redirige vers la liste des carrousels après création. </dd></dl>

</div>
</div>
<a id="a7518c6b3dde0953d9bc3f0fe23ace47b" name="a7518c6b3dde0953d9bc3f0fe23ace47b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7518c6b3dde0953d9bc3f0fe23ace47b">&#9670;&#160;</a></span>destroyCarousel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::destroyCarousel </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Supprime un carousel spécifique ainsi que toutes ses images associées.</p>
<p>Cette méthode permet de supprimer un carousel et toutes ses images de la base de données et du stockage physique. Elle vérifie d'abord les permissions de l'utilisateur avant de procéder à la suppression.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>L'identifiant du carousel à supprimer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\Http\RedirectResponse Redirige vers la liste des carrousels après la suppression. </dd></dl>

</div>
</div>
<a id="aa174b9f6d6c9b2841678103fdaaad55e" name="aa174b9f6d6c9b2841678103fdaaad55e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa174b9f6d6c9b2841678103fdaaad55e">&#9670;&#160;</a></span>detailsFront()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::detailsFront </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$carouselId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche les détails d'un carrousel approuvé avec sa catégorie associée.</p>
<p>Cette méthode récupère un carrousel approuvé à partir de son ID, avec sa catégorie associée. Si le carrousel n'est pas trouvé, elle retourne une erreur 404. Elle récupère également toutes les catégories disponibles pour affichage.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$carouselId</td><td>L'identifiant du carrousel à afficher. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue 'details' avec le carrousel et les catégories. </dd></dl>

</div>
</div>
<a id="aa0356361f45a13c747141945b7be6d89" name="aa0356361f45a13c747141945b7be6d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0356361f45a13c747141945b7be6d89">&#9670;&#160;</a></span>home()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::home </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche la page d'accueil du back-office pour la gestion des carrousels.</p>
<p>Cette méthode récupère les carrousels en fonction du rôle de l'utilisateur connecté :</p><ul>
<li>Pour un administrateur, elle récupère uniquement les carrousels associés à cet administrateur.</li>
<li>Pour un super administrateur, elle récupère tous les carrousels, en les triant par statut puis par nom.</li>
<li>Pour tout autre type d'utilisateur, elle redirige vers la page d'accueil avec un message d'erreur.</li>
</ul>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\Contracts\Support\Renderable La vue 'carousel.view' avec les carrousels et les catégories. </dd></dl>

</div>
</div>
<a id="a151591d67d892fa737c589eaebddcb7b" name="a151591d67d892fa737c589eaebddcb7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151591d67d892fa737c589eaebddcb7b">&#9670;&#160;</a></span>homeFront()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::homeFront </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche la page d'accueil du front avec les carrousels et les catégories.</p>
<p>Cette méthode récupère les carrousels approuvés avec leurs catégories associées, les trie par ID décroissant, en récupère au maximum 3, puis retourne la vue 'home' en passant les données des carrousels et des catégories.</p>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue de la page d'accueil avec les carrousels et les catégories. </dd></dl>

</div>
</div>
<a id="a7f6b8baef5995bec0754c949f8388c4b" name="a7f6b8baef5995bec0754c949f8388c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6b8baef5995bec0754c949f8388c4b">&#9670;&#160;</a></span>updateCarousel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::updateCarousel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_app_1_1_http_1_1_requests_1_1_carousel_update_request.html">CarouselUpdateRequest</a></td>          <td class="paramname"><span class="paramname"><em>$request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Met à jour les informations d'un carousel existant.</p>
<p>Cette méthode récupère et valide les données de mise à jour du carousel, incluant les changements d'adresse et les images, en fonction des autorisations de l'utilisateur. Les images sont redimensionnées et converties en format WebP avant d'être enregistrées. Les images existantes peuvent être supprimées ou mises à jour, selon les modifications fournies.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\App\Http\Requests\CarouselUpdateRequest</td><td class="paramname">$request</td><td>Les données validées de la requête de mise à jour du carousel. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>L'identifiant du carousel à mettre à jour. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\Http\RedirectResponse Redirige vers la liste des carrousels après la mise à jour. </dd></dl>

</div>
</div>
<a id="a7e3b4d14912f743c9a35b558886347d5" name="a7e3b4d14912f743c9a35b558886347d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e3b4d14912f743c9a35b558886347d5">&#9670;&#160;</a></span>viewCarousel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::viewCarousel </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche tous les carrousels disponibles.</p>
<p>Cette méthode récupère tous les carrousels depuis la base de données et les passe à la vue 'view' pour affichage.</p>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue 'view' avec tous les carrousels. </dd></dl>

</div>
</div>
<a id="a5476ddf296f3fff8b8371c98e0375b93" name="a5476ddf296f3fff8b8371c98e0375b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5476ddf296f3fff8b8371c98e0375b93">&#9670;&#160;</a></span>viewCreateCarousel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::viewCreateCarousel </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche le formulaire de création d'un nouveau carousel.</p>
<p>Cette méthode récupère toutes les catégories disponibles depuis la base de données et les passe à la vue 'carousel.create' pour afficher le formulaire de création d'un carousel.</p>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue 'carousel.create' avec les catégories pour le formulaire. </dd></dl>

</div>
</div>
<a id="a52054ff40fb88f1d2316c89eaf7b3e7e" name="a52054ff40fb88f1d2316c89eaf7b3e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52054ff40fb88f1d2316c89eaf7b3e7e">&#9670;&#160;</a></span>viewUpdateForm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App\Http\Controllers\CarouselController::viewUpdateForm </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Affiche le formulaire de modification d'un carousel existant.</p>
<p>Cette méthode récupère les détails d'un carousel spécifié par son ID, vérifie les permissions pour accéder à ce carousel, récupère les catégories et les réservations associées à ce carousel, puis passe les données nécessaires à la vue 'carousel.update' pour afficher le formulaire de modification.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>L'identifiant du carousel à mettre à jour. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>\Illuminate\View\View La vue 'carousel.update' avec les données du carousel et les catégories. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Symfony\Component\HttpKernel\Exception\HttpException En cas de carousel non trouvé ou d'accès non autorisé. </p>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir du fichier suivant :<ul>
<li>app/Http/Controllers/<b>CarouselController.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
